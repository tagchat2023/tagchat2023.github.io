"use strict";(self.webpackChunkwebpack5=self.webpackChunkwebpack5||[]).push([[136],{744:(e,n)=>{n.Z=(e,n)=>{const t=e.__vccOpts||e;for(const[e,a]of n)t[e]=a;return t}},136:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(961),o=(0,a.createElementVNode)("main",null,[(0,a.createElementVNode)("div",{class:"img"})],-1),i={class:"section section-download"},l={class:"list"},s=(0,a.createElementVNode)("i",{class:"icon-guide"},null,-1),c={class:"guide-wrap"},r={class:"text"};var d="https://tagchat.oss-cn-hangzhou.aliyuncs.com/download/tagchat.apk",u="https://www.pgyer.com/0MWLMJ",h=("".concat("https://www.tdechat.io/","api/v1/statistics/download"),{class:"header"}),g={class:"lang-wrap"},p=["onClick"];const m={name:"layoutHeader",data:function(){return{languages:{zh:"中文",en:"English"},selectedLang:this.$i18n.locale,langListShow:!1}},methods:{changeLanguage:function(){this.langListShow=!this.langListShow},selectLang:function(e){this.selectedLang=e,this.$i18n.locale=e,this.langListShow=!1,window.sessionStorage.setItem("language",e)}},mounted:function(){}};var w=t(744);const f={name:"index",components:{LayoutHeader:(0,w.Z)(m,[["render",function(e,n,t,o,i,l){return(0,a.openBlock)(),(0,a.createElementBlock)("header",h,[(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("div",{class:"lang",onClick:n[0]||(n[0]=function(){return l.changeLanguage&&l.changeLanguage.apply(l,arguments)})},[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(i.languages[i.selectedLang]),1)]),(0,a.createElementVNode)("ul",{class:(0,a.normalizeClass)(["lang-list",i.langListShow?"lang-list-show":""])},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.languages,(function(e,n){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{class:"selected",onClick:function(e){return l.selectLang(n)}},(0,a.toDisplayString)(e),9,p)})),256))],2)])])}]])},data:function(){return{androidUrl:d,iosUrl:u,guideShow:!1,iswx:!1,lang:window.navigator.language.includes("zh")?"zh":"en",guide:{h3:"请点击右上角 ···",text:"选择“在浏览器中打开”"},delay:null,hidden:!1}},methods:{isWeiXin:function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},closeGuide:function(){this.guideShow=!1},downloadHanlder:function(e,n){var t=this;clearInterval(this.delay);if("android"===n||"ios"===n){if(this.iswx)return void(this.guideShow=!0);var a=decodeURIComponent(window.location.href).replace(/[\t\r\f\n\s]*/g,""),o=a.match(/TAGChat.(\S*):{/),i="tag://com.tag.chat:8888/launcherApp";if(o){var l=o[1],s=a.match(/:{(\S*)}#/)[1],c=JSON.parse("{".concat(s,"}"));i="tag://com.tag.chat:8888/addFriend?type=".concat(l,"&pubKey=").concat(c.pubKey,"&hash=").concat(c.hash)}window.location=i,this.delay=setTimeout((function(){t.hidden||("android"===n&&(window.location=d),"ios"===n&&(window.location=u)),clearInterval(t.delay)}),1500)}else{var r=this.$t("tips");this.$tips(r,e)}},listener:function(e){this.hidden=e.target.hidden}},mounted:function(){this.isWeiXin()&&(this.iswx=!0),document.addEventListener("visibilitychange",this.listener)},unmounted:function(){document.removeEventListener("visibilitychange",this.listener)}},k=(0,w.Z)(f,[["render",function(e,n,t,d,u,h){var g=(0,a.resolveComponent)("layout-header");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["wrap",["lang-"+e.$i18n.locale]])},[(0,a.createVNode)(g),o,(0,a.createElementVNode)("section",i,[(0,a.createElementVNode)("ul",l,[(0,a.createElementVNode)("li",{class:"li-apk",onClick:n[0]||(n[0]=function(e){return h.downloadHanlder("js-apk","android")}),id:"js-apk"}),(0,a.createElementVNode)("li",{class:"li-app-store",onClick:n[1]||(n[1]=function(e){return h.downloadHanlder("js-app-store","ios")}),id:"js-app-store"})])]),u.guideShow?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"pop pop-guide",onClick:n[2]||(n[2]=function(){return h.closeGuide&&h.closeGuide.apply(h,arguments)})},[s,(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.$t("guide.h3")),1),(0,a.createElementVNode)("p",r,(0,a.toDisplayString)(e.$t("guide.text")),1)])])):(0,a.createCommentVNode)("",!0)],2)}]])}}]);